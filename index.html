<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule with Olaolex</title>
    <style>
        /* Optional: Add your custom styles here */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>

    <!-- Calendly inline widget begin -->
    <div class="calendly-inline-widget" id="calendlyWidget" style="min-width:320px;height:630px;"></div>
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js"></script>
    <script>
        // Function to get URL parameters
        function getQueryParam(param) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Hide specific element in Calendly iframe
        function hideCalendlyElement() {
            var iframe = document.querySelector('.calendly-inline-widget iframe');
            var hiddenClass = 'Ca8ZXPhzUYH7_QjqmRim ZailmwkOvrZPJqhYNv2b';
            iframe.onload = function() {
                var elementToHide = iframe.contentWindow.document.querySelector(`.${hiddenClass}`);
                if (elementToHide) {
                    elementToHide.style.display = 'none';
                }
            };
        }

        // Autofill name, email, a1, and a2 in Calendly
        window.addEventListener('DOMContentLoaded', function() {
            var name = getQueryParam('name');
            var email = getQueryParam('email');
            var a1 = getQueryParam('a1');
            var a2 = getQueryParam('a2');
            var calendlyUrl = "https://calendly.com/daprinceolaolex06/test";

            if (name || email || a1 || a2) {
                calendlyUrl += `?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&a1=${encodeURIComponent(a1)}&a2=${encodeURIComponent(a2)}`;
            }

            var widgetDiv = document.getElementById('calendlyWidget');
            widgetDiv.setAttribute('data-url', calendlyUrl);

            // Load Calendly widget
            Calendly.initInlineWidget({
                url: calendlyUrl,
                parentElement: widgetDiv,
                prefill: {
                    name: name,
                    email: email,
                    customAnswers: {
                        a1: a1,
                        a2: a2
                    }
                },
                utm: {}
            });

            hideCalendlyElement(); // Hide the unwanted element
        });
    </script>
    <!-- Calendly inline widget end -->

</body>
</html>
