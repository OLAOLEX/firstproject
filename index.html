<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule with Olaolex</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>

    <!-- Calendly inline widget begin -->
    <div class="calendly-inline-widget" id="calendlyWidget" style="min-width:320px;height:630px;"></div>
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js"></script>
    <script>
        function getQueryParam(param) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Hide specific fields in Calendly iframe using JavaScript
        function hideCalendlyFields(iframe) {
            try {
                // Attempt to hide the fields after iframe content loads
                var input1 = iframe.contentDocument.querySelector('input[name="question_0"]');
                if (input1) {
                    input1.style.display = 'none';
                }

                var input2 = iframe.contentDocument.querySelector('input[name="question_1"]');
                if (input2) {
                    input2.style.display = 'none';
                }
            } catch (error) {
                console.error('Error hiding fields:', error);
            }
        }

        window.addEventListener('DOMContentLoaded', function() {
            var name = getQueryParam('name');
            var email = getQueryParam('email');
            var a1 = getQueryParam('a1');
            var a2 = getQueryParam('a2');
            var calendlyUrl = "https://calendly.com/daprinceolaolex06/test";

            if (name || email || a1 || a2) {
                calendlyUrl += `?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&a1=${encodeURIComponent(a1)}&a2=${encodeURIComponent(a2)}`;
            }

            var widgetDiv = document.getElementById('calendlyWidget');
            widgetDiv.setAttribute('data-url', calendlyUrl);

            // Load Calendly widget
            Calendly.initInlineWidget({
                url: calendlyUrl,
                parentElement: widgetDiv,
                prefill: {
                    name: name,
                    email: email,
                    customAnswers: {
                        a1: a1,
                        a2: a2
                    }
                },
                utm: {}
            });

            // Hide the a1 and a2 fields after the iframe is loaded
            var iframe = document.querySelector('.calendly-inline-widget iframe');
            iframe.onload = function() {
                setTimeout(function() {
                    hideCalendlyFields(iframe);
                }, 1000); // Delay to ensure iframe content is fully loaded
            };
        });
    </script>
    <!-- Calendly inline widget end -->

</body>
</html>
